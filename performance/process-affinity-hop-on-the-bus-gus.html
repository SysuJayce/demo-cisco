<!DOCTYPE html>

<html lang="eng-US" xmlns:nitro="https://www.bunchball.com/nitro">

<head>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<meta http-equiv="X-UA-Compatible" content="IE=edge" />

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

	<title>  Process affinity: Hop on the bus, Gus!</title>

	<meta property="og:image" content=""/><meta property="og:description" content=""/><meta name="description" content=""/>	<meta property="og:site_name" content="blogs@Cisco - Cisco Blogs"/>

	<meta name="google-site-verification" content="9MlQU9MMQ1jHLMUkONKe6QzZ-ZIGRv0BCD1_rY1Zdmc" />

		<meta name="bitly-verification" content="25789e2a57d8"/>

	<meta name="accessLevel" content="GUEST, CUSTOMER, PARTNER"/>

	<meta name="language" content="en"/>

	<meta name="country" content="US"/>

	<meta name="contentType" content="ciscoBlogs"/>

			<meta name="docType" content="blogPost" />

		<link rel="stylesheet" href="https://blogs.cisco.com/wp-content/themes/cisco_responsive/style.css" type="text/css" media="screen" />

	<link rel="alternate" type="application/rss+xml" title="Cisco Blog RSS Feed" href="https://blogs.cisco.com/feed" />

	<link rel="shortcut icon" href="https://blogs.cisco.com/wp-content/themes/cisco_responsive/favicon.ico" />

	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">



	<link rel='dns-prefetch' href='//www.cisco.com' />
<link rel='dns-prefetch' href='//platform.twitter.com' />
<link rel='dns-prefetch' href='//s.w.org' />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/blogs.cisco.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.2"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56794,8205,9794,65039],[55358,56794,8203,9794,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='css-css'  href='https://blogs.cisco.com/wp-content/plugins/bunchball/bunchball.css?ver=4.9.2' type='text/css' media='all' />
<link rel='stylesheet' id='normalize-css'  href='https://blogs.cisco.com/wp-content/themes/cisco_responsive/normalize.css?ver=4.9.2' type='text/css' media='all' />
<link rel='stylesheet' id='slidebarsstyle-css'  href='https://blogs.cisco.com/wp-content/themes/cisco_responsive/slidebars.css?ver=4.9.2' type='text/css' media='all' />
<link rel='stylesheet' id='single-css'  href='https://blogs.cisco.com/wp-content/themes/cisco_responsive/styles/single.css?ver=4.9.2' type='text/css' media='all' />
<link rel='stylesheet' id='codecolorer-css'  href='https://blogs.cisco.com/wp-content/plugins/codecolorer/codecolorer.css?ver=0.9.14' type='text/css' media='screen' />
<script type='text/javascript' src='https://blogs.cisco.com/wp-includes/js/jquery/jquery.js?ver=3.3.1'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.0.0'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/plugins/bunchball/bunchball.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/plugins/bunchball/jquery.cookie.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/plugins/bunchball/jquery.slimscroll.min.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/plugins/bunchball/moment.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/plugins/bunchball/livestamp.min.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/themes/cisco_responsive/js/modernizr.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/themes/cisco_responsive/js/slidebars.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/themes/cisco_responsive/js/jquery.lazyload.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/themes/cisco_responsive/js/theme_script.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://www.cisco.com/assets/swa/j/blogs.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://www.cisco.com/c/dam/cdc/t/ctm.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/themes/cisco_responsive/js/jquery.tools.min.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/themes/cisco_responsive/js/jquery.tipTip.minified.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/themes/cisco_responsive/js/jquery.sharrre.min.js?ver=4.9.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var single_script_vars = {"ajax_url":"https:\/\/blogs.cisco.com\/wp-admin\/admin-ajax.php","post_id":"133680"};
/* ]]> */
</script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/themes/cisco_responsive/js/single.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://platform.twitter.com/widgets.js?ver=4.9.2'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://blogs.cisco.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://blogs.cisco.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Five Important Insights into the Internet of Everything' href='https://blogs.cisco.com/digital/five-important-insights-into-ioe' />
<link rel='next' title='International Networking Champions Descend on Silicon Valley' href='https://blogs.cisco.com/csr/international-networking-champions-descend-on-silicon-valley' />

<link rel="canonical" href="https://blogs.cisco.com/performance/process-affinity-hop-on-the-bus-gus" />
<link rel='shortlink' href='https://blogs.cisco.com/?p=133680' />

<!-- START - Twitter Cards, G+, Facebook Tags 2.2.3.1 -->
 <!-- Facebook Open Graph -->
  <meta property="og:locale" content="en_US"/>
  <meta property="og:title" content="Process affinity: Hop on the bus, Gus!"/>
  <meta property="og:url" content="https://blogs.cisco.com/performance/process-affinity-hop-on-the-bus-gus"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2014-01-10T05:00:49+00:00"/>
  <meta property="article:modified_time" content="2014-03-21T14:49:16+00:00" />
  <meta property="og:updated_time" content="2014-03-21T14:49:16+00:00" />
  <meta property="article:section" content="High Performance Computing Networking"/>
  <meta property="article:publisher" content="https://www.facebook.com/Cisco"/>
 <!-- Google+ / Schema.org -->
 <!-- Twitter Cards -->
  <meta name="twitter:title" content="Process affinity: Hop on the bus, Gus!"/>
  <meta name="twitter:url" content="https://blogs.cisco.com/performance/process-affinity-hop-on-the-bus-gus"/>
  <meta name="twitter:description" content="Today&#039;s blog post is written by Joshua Ladd, Open MPI developer and HPC Algorithms Engineer at Mellanox Technologies.



At some point in the process of pondering this blog post I noticed that my subconscious had, much to my annoyance, registered a snippet of the chorus to Paul Simon&#039;s timeless clas"/>
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:creator" content="@http://www.twitter.com/jsquyres"/>
  <meta name="twitter:site" content="@Cisco"/>
 <!-- SEO -->
 <!-- Misc. tags -->
 <!-- is_singular -->
<!-- END - Twitter Cards, G+, Facebook Tags 2.2.3.1 -->
	




</head>

<body>

	<div id = "rewards_fix"></div>

	<script src="//assets.bunchball.net/scripts/nitro/current/nitro.js" type="text/javascript"></script>	<script>
		var apiKey = "6912c6c82ccc4863a0311dc8b586b8fb";
		var userId = "anon";
		var time = "1521445149";
		var sig = "041746d8d6f0ed96570af7be288280c3";
		var connectionParams={};
    		connectionParams.apiKey = apiKey ;
    		connectionParams.timeStamp = time;
    		connectionParams.signature = sig;
    		connectionParams.server =  "//CiscoSupportCommunities2.nitro.bunchball.net/nitro/json/";
    		connectionParams.userId = userId;
    	var nitro = new Nitro(connectionParams);
    	nitro.showPendingNotifications();
	</script> <header class = "sb-slide">
        <div id = "hero">
            <div class = "top_third">
                <div id="hamburger" class = "sb-open-left">
                    <i class="fa fa-bars"></i>
                </div>
            </div>
            <div class = "top_third">
                <div id = "cisco_logo">
                    <div class="dropdown">
                        <div class = "logo_hover"></div>
                        <div class="dropdown-content">
                            <ul>
                                <li><a href = "https://cisco.com">All of Cisco</a></li>
                                <li><a href = "https://blogs.cisco.com">Blogs Home</a></li>
                            </ul>
                         </div>
                    </div>
                </div>
            </div>
            <div class = "hero_header_text">Cisco Blogs</div>
                <div id = "mobile_search_top">
                    <i class="fa fa-search"></i>
                </div>

                <a class = "top_login" href = "https://socialrewards-prod.cloudapps.cisco.com/">Log In to Cisco.com</a>
                
                <div id = "normal_search">
                    <div id = "normal_search_box"><form method="get" id="searchform" action="https://blogs.cisco.com/">

	<input type="text" value=""

    	name="s" id="s">

    </input>

<input type="submit" value=" " class="searchSubmit"/>

</form>

</div>
                        <i class="fa fa-search"></i>
                    <div class = "clear"></div>
                </div>
            <div class = "clear"></div>
            <div id = "normal_menu">
                <nav>
  <a class = "hamburger_login" href = "https://blogs.cisco.com:9031/sp/startSSO.ping?PartnerIdpId=cloudsso.cisco.com">Log In to Cisco.com</a>      <ul>
                  <li><a href='https://blogs.cisco.com'><span>All Blogs</span></a></li>
                  <li><a href='#'><span>Technologies</span></a>
                  <ul>
            <div class = "bordertop"></div>
            <li><a href="https://blogs.cisco.com/analytics-automation">Analytics &amp; Automation</a></li>
            <li><a href="https://blogs.cisco.com/cloud">Cloud</a></li>
            <li><a href='https://blogs.cisco.com/collaboration'>Collaboration</a></li>
            <li><a href='https://blogs.cisco.com/datacenter'>Data Center</a></li>
            <li><a href='https://blogs.cisco.com/digital'>Digital Transformation</a></li>
            <li><a href='https://blogs.cisco.com/enterprise'>Enterprise Networks</a></li>
            <li><a href='https://blogs.cisco.com/innovation'>Innovation</a></li>
            <li><a href='https://blogs.cisco.com/wireless'>Mobility</a></li>
            <li><a href='https://blogs.cisco.com/security'>Security</a></li>
            <li class = "sub"><a href="https://blogs.cisco.com/talos" class="nav_menu" title="">Threat Research</a></li>
            <li><a href='https://blogs.cisco.com/smallbusiness'>Small Business</a></li>
            <li><a href='https://blogs.cisco.com/services'>Services</a></li>
            <li><a href='https://blogs.cisco.com/sp'>SP360:Service Provider</a></li>
          </ul>
        </li>
                  <li><a href='#'><span>Industries</span></a>
                      <ul>
            <div class = "bordertop"></div>
            <li><a href='https://blogs.cisco.com/education'>Education</a></li>
            <li><a href='https://blogs.cisco.com/energy'>Energy</a></li>
            <li><a href='https://blogs.cisco.com/financialservices'>Financial Services</a></li>
            <li><a href='https://blogs.cisco.com/government'>Government</a></li>
            <li><a href='https://blogs.cisco.com/healthcare'>Healthcare</a></li>
            <li><a href='https://blogs.cisco.com/manufacturing'>Manufacturing</a></li>
            <li><a href='https://blogs.cisco.com/retail'>Retail &amp; Hospitality</a></li>
          </ul>
        </li>
                  <li><a href='#'><span>Partners</span></a> 
          <ul>
            <div class = "bordertop"></div>
            <li><a href='https://blogs.cisco.com/partner'>Partner</a></li>
          </ul>
        </li>
        <li><a href='#'><span>For the Tech Expert</span></a>           <ul>
            <div class = "bordertop"></div>
            <li><a href='https://blogs.cisco.com/getyourbuildon'>Architects &amp; Distinguished Engineers</a></li>
            <li><a href='https://blogs.cisco.com/developer'>Developer</a></li>
            <li><a href='https://blogs.cisco.com/performance'>High Performance Computing</a></li>
            <li><a href='https://blogs.cisco.com/ciscoit'>Inside Cisco IT</a></li>
            <li><a href='https://blogs.cisco.com/cin'>TechWiseTV</a></li>
          </ul>
        </li>
         <li><a href='#'><span>Get to Know Cisco</span></a>           <ul>
            <div class = "bordertop"></div>
            <li><a href='https://blogs.cisco.com/csr'>Corporate Social Responsibility</a></li>
            <li><a href='https://blogs.cisco.com/cle'>Connected Life Exchange</a></li>
            <li><a href='https://blogs.cisco.com/customerstories'>Customer Stories</a></li>
            <li><a href='https://blogs.cisco.com/socialmedia'>Digital and Social Media</a></li>
            <li><a href='https://blogs.cisco.com/gov'>High Tech Policy</a></li>
            <li><a href='https://blogs.cisco.com/diversity'>Inclusion and Diversity</a></li>
            <li><a href='https://blogs.cisco.com/lifeatcisco'>Life at Cisco</a></li>
            <li><a href='https://blogs.cisco.com/perspectives'>Perspectives</a></li>
            <li><a href='https://blogs.cisco.com/news'>Executive Platform: News &amp; Insights</a></li>
          </ul>
        </li>
        <li class = "countries"><a href='#'><span>Countries and Regions</span></a>
          <ul>
            <div class = "col_1">
  <li><a href="https://apjc.thecisconetwork.com/">Asia Pacific</a>
  <li><a href="https://gblogs.cisco.com/at/">Austria</a>
  <li><span class = "sub_main">Belgium</span></li>
    <li class = "sub"><a href="https://gblogs.cisco.com/be">Dutch</a></li>
    <li class = "sub"><a href="https://gblogs.cisco.com/be-fr">French</a></li>
  <li><a href="https://gblogs.cisco.com/br/">Brazil</a>
  <li><span class = "sub_main">Canada</span></li>
    <li class = "sub"><a href="https://canadablog.cisco.com/">English</a></li>
    <li class = "sub"><a href="https://ciscocanadafr.wordpress.com/">French</a></li>

  </div>
    <div class = "col_2">
    <li><a href="https://gblogs.cisco.com/fin/">Finland</a>
    <li><a href="https://gblogs.cisco.com/fr/">France</a>

  <li><a href="https://gblogs.cisco.com/de">Germany</a></li>
  <li><a href="https://gblogs.cisco.com/gr/">Greece</a>
  <li><a href="https://gblogs.cisco.com/in">India</a></li>
  <li><a href="https://gblogs.cisco.com/it/">Italy</a></li>
  <li><a href="https://gblogs.cisco.com/jp/">Japan</a></li>
  <li><a href="https://ciscokrblog.com/">Korea</a></li>

  </div>
  <div class = "col_3">
  <li><span class = "sub_main">Latin America</span></li>
      <li class = "sub"><a href="https://gblogs.cisco.com/la/">Latin America (Esp)</a></li>
      <li class = "sub"><a href="https://gblogs.cisco.com/cansac/">Cansac</a></li>
  <li><a href="https://gblogs.cisco.com/nl/">Netherlands</a></li>
  <li><a href="https://gblogs.cisco.com/no">Norway</a></li>
  <li><a href="https://gblogs.cisco.com/pl">Poland</a></li>
  <li><a href="https://gblogs.cisco.com/pt">Portugal</a></li>
  <li><a href="https://gblogs.cisco.com/ro">Romania</a></li>
  </div>

  <div class = "col_4">
  <li><a href="https://gblogs.cisco.com/ru">Russia</a></li>
  <li><a href="https://gblogs.cisco.com/es">Spain</a></li>
  <li><span class = "sub_main">Switzerland</span></li>
      <li class = "sub"><a href="https://gblogs.cisco.com/ch-tech/">English</a></li>
      <li class = "sub"><a href="https://gblogs.cisco.com/ch-fr/">French</a></li>
      <li class = "sub"><a href="https://gblogs.cisco.com/ch-de/">German</a></li>
  <li><a href="https://gblogs.cisco.com/tr/">Turkey</a></li>
  <li><a href="https://gblogs.cisco.com/uki/">UK &amp; Ireland</a></li>
</div>
<div class = "clear"></div>
</ul>
</li>
      </ul>
</nav>
            </div>
            <div id = "mobile_search">
                <div id = "mobile_search_box">
                    <form method="get" id="searchform" action="https://blogs.cisco.com/">

	<input type="text" value=""

    	name="s" id="s">

    </input>

<input type="submit" value=" " class="searchSubmit"/>

</form>

                </div>
        </div>
        </div>  
    </header>
     
        
  <div id="share_bar1">

    <span class = "share_title">Share</span>
    <div class="twitter sharrre">
      <div class = "box">
        <div class = "count twitcount"></div>
        <a class = "twitclick" href="https://twitter.com/intent/tweet?url=http://cs.co/9001gmrb&text=Process affinity: Hop on the bus, Gus!&via=Cisco" data-config-metrics-group='social_shares' data-config-metrics-title='twitter_shares' data-config-metrics-item='twitter_share'>tweet</a>
      </div>
    </div>

    <div class="facebook sharrre">
      <div class = "box">
        <div class = "count fbcount"></div>
        <a class = "fbclick share" href = "http://www.facebook.com/sharer/sharer.php?u=https://blogs.cisco.com/performance/process-affinity-hop-on-the-bus-gus&title=Process affinity: Hop on the bus, Gus!" data-config-metrics-group='social_shares' data-config-metrics-title='facebook_shares' data-config-metrics-item='facebook_share' onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"></a>
      </div>
    </div>


    <div class="linkedin sharrre">
      <div class = "box">
        <div class = "count licount"></div>
        <a class = "liclick share" href = "https://www.linkedin.com/cws/share?url=https://blogs.cisco.com/performance/process-affinity-hop-on-the-bus-gus" data-title=" " data-config-metrics-group='social_shares' data-config-metrics-title='linkedin_shares' data-config-metrics-item='linkedin_share' onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"></a>


      </div>
    </div>

    <div class="googleplus sharrre">
      <div class = "box">
        <div class = "count gpcount"></div>
        <a class = "gpclick share" href="https://plus.google.com/share?url=https://blogs.cisco.com/performance/process-affinity-hop-on-the-bus-gus" data-title=" " data-config-metrics-group='social_shares' data-config-metrics-title='google_shares' data-config-metrics-item='google_share' onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"></a>
      </div>
    </div>
        <div class = "share_mail"><a class="email emclick" href="mailto:?subject=Cisco Blog: Process affinity: Hop on the bus, Gus!&body=I saw this post on Cisco High Performance Computing Networking blog and thought you might like to read it.%0A%0AProcess affinity: Hop on the bus, Gus!%0A%0Ahttps://blogs.cisco.com/performance/process-affinity-hop-on-the-bus-gus%0A%0A****Disclaimer****%0A%0ACisco is not responsible for the content of this email, and its contents do not necessarily reflect Cisco’s views or opinions. Cisco has not verified the email address or name of the sender." data-config-metrics-group='social_shares' data-config-metrics-title='email_shares' data-config-metrics-item='email_share'></a></div>
    <div class = "clear"></div>
  </div>
  <div id="sb-site">
<div id = "main_content">

	<div id = "blog_content">
	<div id = "main_left">

		<article id = "article_post">
			<p class = "breadcrumb">
			<a href=' https://blogs.cisco.com'>Cisco Blog</a> > <a href=' https://blogs.cisco.com/category/performance/'>High Performance Computing Networking</a></p>
					<div id = "post_image"><img src = "https://alln-extcloud-storage.cisco.com/ciscoblogs/category51.png">  					</div>
  					<div id = "post_info">
  						<span class = "post_category">
  							High Performance Computing Networking  						</span>
						<h1 id="post-133680" class="kindle_title title">Process affinity: Hop on the bus, Gus!</h1>
						<div class="author_image"><img class = "img-circle" src = "https://alln-extcloud-storage.cisco.com/ciscoblogs/userphoto/1442325273-bpthumb.jpg"></div><div class="author_rewards_box">			<ul class = "nitro_author133680 bunchballAwards">
		<li>
			<div class = "nitro_badge badgenitro_author133680">
			</div>
			<div class = "nitro_points pointsnitro_author133680">
			</div>
		</li>
		<script>
var nitroName = 'jsquyres';
var sessionKey = '';


nitro.callAPI("method=batch.run&methodFeed=%5B%27method%3Duser.getChallengeProgress%26userId%3D" + nitroName + "%26sessionKey%3D" + sessionKey + "%27%2C%27method%3Duser.getLevel%26userIds%3D" + nitroName + "%26sessionKey%3D" + sessionKey + "%27%2C%27method%3Duser.getPointsBalance%26userId%3D" + nitroName + "%26sessionKey%3D" + sessionKey + "%27%5D",  "postBadges", "nitro_author133680");</script>

		</ul>
		</ul>
	<div class = "clear"></div>
</div><div class = "clear"></div><span class = "list_author"><a href="https://blogs.cisco.com/author/jeffsquyres" title="Posts by Jeff Squyres" rel="author">Jeff Squyres</a> - January 10, 2014 - 0 Comments      					</span>
      					<br />
      					<br />
      										</div>
					<div class ="clear"></div>
					<div id ="content">
					<p><strong><em>Today&#8217;s <font color="red">blog post</font> is written by <a href="http://www.linkedin.com/pub/joshua-ladd/10/b13/99b">Joshua Ladd</a>, Open <font color="red">MPI</font> developer and <font color="red">HPC</font> Algorithms Engineer at Mellanox Technologies.</em></strong></p>
<p>At some point in the process of pondering this <font color="red">blog post</font> I noticed that my subconscious had, much to my annoyance, registered a snippet of the chorus to Paul Simon&#8217;s timeless classic &#8220;50 Ways to Leave Your Lover&#8221; with my brain&#8217;s internal progress thread. Seemingly, endlessly repeating, billions of times over (well, at least ten times over) the catchy hook that offers one, of presumably 50, possible ways to leave one&#8217;s lover &#8211; &#8220;Hop on the bus, Gus.&#8221; Assuming Gus does indeed wish to extricate himself from a passionate predicament, this seems a reasonable suggestion. But, supposing Gus has a really jilted lover; his response to Mr. Simon&#8217;s exhortation might be &#8220;Just how many hops to that damn bus, Paul?&#8221;</p>
<p><span id="more-133680"></span><font color="red">HPC</font> practitioners may find themselves asking a similar question, though in a somewhat less contentious context (pun intended.) Given the <font color="red">complexity</font> of modern <font color="red">HPC</font> systems with their increasingly stratified memory subsystems and myriad ways of interconnecting memory, networking, computing, and storage components such as <font color="red">NUMA</font> <font color="red">nodes</font>, computational accelerators, host channel adapters, <font color="red">NICs</font>, VICs, JBODs, Target Channel Adapters, etc., reasoning about process placement has become a much more complex task with much larger performance implications between the &#8220;best&#8221; and the &#8220;worst&#8221; placement policies. To compound this <font color="red">complexity</font>, the &#8220;best&#8221; and &#8220;worse&#8221; placement necessarily depends upon the specific <font color="red">application</font> instance and its communication and I/O pattern. Indeed, an in-depth discussion on Open <font color="red">MPI</font>&#8217;s sophisticated process affinity system is far beyond the scope of this humble <font color="red">blog post</font> and I refer the interested reader to the <a href="http://www.slideshare.net/jsquyres/open-mpi-explorations-in-process-affinity-eurompi13-presentation"><font color="blue">deep dive</font> talk Jeff gave at Euro <font color="red">MPI</font></a> on this topic.</p>
<p>In this posting, I&#8217;ll only consider the problem framed by Gus&#8217; hypothetical query; How can one map <font color="red">MPI</font> processes as close to an I/O <font color="red">device</font> as possible thereby minimizing <font color="red">data</font> movement or &#8216;hops&#8217; through the intranode interconnect for those processes? This is a very reasonable request but the ability to automate this process has remained mostly absent in modern <font color="red">HPC</font> middleware. Fortunately, powerful tools such as &#8220;<font color="red">hwloc</font>&#8221; are available to help us with just such a task. <font color="red">Hwloc</font> usually manipulates processing units and memory, but it can also discover I/O <font color="red">devices</font> and report their locality as well. In simplest terms, this can be leveraged to place I/O intensive <font color="red">applications</font> on <font color="red">cores</font> near the I/O <font color="red">devices</font> they use. Whereas Gus probably didn&#8217;t have the luxury to choose his locality so as to minimize the number of hops necessary to get on his bus, Open <font color="red">MPI</font>, with the help of <font color="red">hwloc</font>, now provides a mechanism for mapping <font color="red">MPI</font> processes to <font color="red">NUMA</font> <font color="red">nodes</font> &#8220;closest&#8221; to an I/O <font color="red">device</font>.</p>
<div id="attachment_133691" style="max-width: 560px" class="wp-caption alignright"><a href="https://alln-extcloud-storage.cisco.com/ciscoblogs/fig1_imac.png"><img class="size-large wp-image-133691" alt="Figure 1: <font color="red">hwloc</font> depiction of an iMac." src="https://alln-extcloud-storage.cisco.com/ciscoblogs/fig1_imac-550x365.png" width="550" height="365" /></a><p class="wp-caption-text">Figure 1: hwloc depiction of an iMac.</p></div>
<p><font color="red">OMPI</font> 1.7.2 and later support <font color="red">mapping</font> by <font color="red">node</font>, board, <font color="red">socket</font>, <font color="red">core</font>, and thread. In <font color="red">OMPI</font> 1.7.3 we introduced the option to map by distance to a peripheral I/O <font color="red">device</font> with the</p>
<div class="codecolorer-container text default" style="overflow:auto;white-space:nowrap;width:435px;"><div class="text codecolorer">--<font color="red">map-by dist</font></div></div>
<p>option. The &#8220;<font color="red">mindist mapper</font>&#8221;, as it&#8217;s referred to, essentially organizes <font color="red">PCI</font> locality information culled from <font color="red">hwloc</font> and imposes an ordering based on parent-child object relationships. The <font color="red">mindist mapper</font> is an extension of Open <font color="red">MPI</font>&#8217;s Level 2 <font color="red">command line</font> interface (<font color="red">CLI</font>) for process <font color="red">mapping</font>.</p>
<p>In Figure 1, we see the graphical output of running &#8220;lstopo&#8221; on my personal iMac. OS X unfortunately does not provide any functionality for <font color="red">hwloc</font> to query my PCIe bus. The following command therefore results in a failure, since a human explicitly asked for something that couldn&#8217;t be done:</p>
<pre><strong>shell$</strong> mpirun -np 4 --<font color="red">map-by dist</font>:sda ./ring_c

--------------------------------------------------------------------------

No <font color="red">PCI</font> locality information could be found on at least one <font color="red">node</font>:



<font color="red">Node</font>: Joshuas-iMac



Open <font color="red">MPI</font> therefore cannot map the <font color="red">application</font> as specified.

--------------------------------------------------------------------------</pre>
<p>&nbsp;</p>
<div id="attachment_133692" style="max-width: 560px" class="wp-caption aligncenter"><a href="https://alln-extcloud-storage.cisco.com/ciscoblogs/fig2_sputnik.png"><img class="size-large wp-image-133692" alt="Figure 2: <font color="red">hwloc</font> depiction of Sputnik." src="https://alln-extcloud-storage.cisco.com/ciscoblogs/fig2_sputnik-550x472.png" width="550" height="472" /></a><p class="wp-caption-text">Figure 2: hwloc depiction of Sputnik.</p></div>
<p>Figure 2 shows the system topology of a single <font color="red">server</font> of Mellanox&#8217;s R&amp;D system, &#8220;Sputnik&#8221;, which consists of two Sandy-Bridge <font color="red">NUMA</font> <font color="red">servers</font>. Each <font color="red">NUMA</font> <font color="red">node</font> has eight physical <font color="red">cores</font> with two hyperthreads per <font color="red">core</font>. We are able to clearly see that this system has a single Mellanox Connect-IB HCA, mlx5_0, attached to <font color="red">socket P</font>#0. Launching an <font color="red">MPI</font> <font color="red">application</font> with the following command:</p>
<pre><strong>shell$</strong> mpirun -np 16 --<font color="red">map-by dist</font>:mlx4_0 --<font color="red">bind-to core</font> ...</pre>
<p>&nbsp;</p>
<p>results in processes 0 &#8211; 7 being mapped to <font color="red">socket P</font>#0 of the first <font color="red">node</font>, and processes 7 &#8211; 15 being mapped to <font color="red">socket P</font>#1. As directed, <font color="red">MPI</font> processes 0 &#8211; 7 are bound to <font color="red">cores</font> P#[0-7] and processes 8 &#8211; 15 are bound to <font color="red">cores</font> P#[8-15]. If no &#8220;&#8211;bind-to&#8221; option is specified with the <font color="red">mindist mapper</font>, the default binding is &#8211;<font color="red">bind-to core</font>. It&#8217;s often helpful to use the &#8220;&#8211;report-bindings&#8221; and &#8220;&#8211;display-map&#8221; options to get a visual confirmation that your processes are indeed mapped and bound as you had intended them. Doing so for the above example results in the following being displayed to stdout (snipped and reformatted a little for inclusion here in the blog):</p>
<pre>======================== JOB MAP ========================

<font color="red">Data</font> for <font color="red">node</font>: sputnik1 Num slots: 32 Max slots: 0 Num procs: 16

Process <font color="red">OMPI</font> <font color="red">jobid</font>: [63009,1] <font color="red">App</font>: 0 Process rank: 0

Process <font color="red">OMPI</font> <font color="red">jobid</font>: [63009,1] <font color="red">App</font>: 0 Process rank: 1

...

Process <font color="red">OMPI</font> <font color="red">jobid</font>: [63009,1] <font color="red">App</font>: 0 Process rank: 15



<font color="red">Data</font> for <font color="red">node</font>: sputnik2 Num slots: 32 Max slots: 0

=============================================================

[sputnik1.vbench.com:10290] <font color="red">MCW rank</font> 0 bound to <font color="red">socket</font> 0[<font color="red">core</font> 0[<font color="red">hwt</font> 0-1]]: \

    [BB/../../../../../../..][../../../../../../../..]

[sputnik1.vbench.com:10290] <font color="red">MCW rank</font> 1 bound to <font color="red">socket</font> 0[<font color="red">core</font> 1[<font color="red">hwt</font> 0-1]]: \

    [../BB/../../../../../..][../../../../../../../..]

...

[sputnik1.vbench.com:10290] <font color="red">MCW rank</font> 15 bound to <font color="red">socket</font> 1[<font color="red">core</font> 15[<font color="red">hwt</font> 0-1]]: \

    [../../../../../../../..][../../../../../../../BB]</pre>
<p>&nbsp;</p>
<p>There are two modes for <font color="red">mapping</font> by dist: span and not-span. The span mode essentially operates as if there was just a single &#8220;super-node&#8221; in the system &#8211; i.e., it balances the load across all objects of the indicated type regardless of their location. In contrast, the non-span mode operates similar to byslot <font color="red">mapping</font>. All slots on each <font color="red">server</font> are filled, assigning each process to an object on that <font color="red">node</font> in a balanced fashion, and then the <font color="red">mapper</font> moves on to the next <font color="red">node</font>. Thus, processes tend to be &#8220;front loaded&#8221; onto the list of <font color="red">servers</font>, as opposed to being &#8220;load balanced&#8221; in the span mode. The default mode is not-span and one must pass an additional &#8220;span&#8221; modifier to use the span mode like so: <span style="font-family: Consolas, Monaco, monospace; font-size: 12px; line-height: 18px;">&#8211;<font color="red">map-by dist</font>:mlx4_0,span</span></p>
<p>Launching an <font color="red">MPI</font> <font color="red">application</font> with the following command across two Sputnik <font color="red">servers</font></p>
<pre><strong>shell$</strong> mpirun -np 16 --<font color="red">map-by dist</font>:mlx4_0,span --<font color="red">bind-to core</font> \

    --display-map --report-bindings ...</pre>
<p>&nbsp;</p>
<p>results in processes 0 &#8211; 7 being bound to <font color="red">cores</font> P#[0-7] on <font color="red">socket P</font>#0 of the first Sputnik <font color="red">server</font> and processes 8 &#8211; 15 being bound to <font color="red">cores</font> P#[0-7] on <font color="red">socket P</font>#0 of the second Sputnik <font color="red">server</font>. This is confirmed by examining the <font color="red">mapping</font> and binding pretty-print (snipped/reformatted):</p>
<pre>======================== JOB MAP ========================

<font color="red">Data</font> for <font color="red">node</font>: sputnik1 Num slots: 32 Max slots: 0 Num procs: 8

Process <font color="red">OMPI</font> <font color="red">jobid</font>: [64047,1] <font color="red">App</font>: 0 Process rank: 0

Process <font color="red">OMPI</font> <font color="red">jobid</font>: [64047,1] <font color="red">App</font>: 0 Process rank: 1

...

Process <font color="red">OMPI</font> <font color="red">jobid</font>: [64047,1] <font color="red">App</font>: 0 Process rank: 7



<font color="red">Data</font> for <font color="red">node</font>: sputnik2 Num slots: 32 Max slots: 0 Num procs: 8

Process <font color="red">OMPI</font> <font color="red">jobid</font>: [64047,1] <font color="red">App</font>: 0 Process rank: 8

Process <font color="red">OMPI</font> <font color="red">jobid</font>: [64047,1] <font color="red">App</font>: 0 Process rank: 9

...

Process <font color="red">OMPI</font> <font color="red">jobid</font>: [64047,1] <font color="red">App</font>: 0 Process rank: 15

=============================================================

[sputnik1.vbench.com:09280] <font color="red">MCW rank</font> 0 bound to <font color="red">socket</font> 0[<font color="red">core</font> 0[<font color="red">hwt</font> 0-1]]: \

    [BB/../../../../../../..][../../../../../../../..]

[sputnik1.vbench.com:09280] <font color="red">MCW rank</font> 1 bound to <font color="red">socket</font> 0[<font color="red">core</font> 1[<font color="red">hwt</font> 0-1]]: \

    [../BB/../../../../../..][../../../../../../../..]

...

[sputnik1.vbench.com:09280] <font color="red">MCW rank</font> 7 bound to <font color="red">socket</font> 0[<font color="red">core</font> 7[<font color="red">hwt</font> 0-1]]: \

    [../../../../../../../BB][../../../../../../../..]



[sputnik2.vbench.com:08815] <font color="red">MCW rank</font> 8 bound to <font color="red">socket</font> 0[<font color="red">core</font> 0[<font color="red">hwt</font> 0-1]]: \

    [BB/../../../../../../..][../../../../../../../..]

[sputnik2.vbench.com:08815] <font color="red">MCW rank</font> 9 bound to <font color="red">socket</font> 0[<font color="red">core</font> 1[<font color="red">hwt</font> 0-1]]: \

    [../BB/../../../../../..][../../../../../../../..]

...

[sputnik2.vbench.com:08815] <font color="red">MCW rank</font> 15 bound to <font color="red">socket</font> 0[<font color="red">core</font> 7[<font color="red">hwt</font> 0-1]]: \

    [../../../../../../../BB][../../../../../../../..]</pre>
<p>&nbsp;</p>
<p>Sputnik is a hyperthreaded machine, let&#8217;s examine the following the <font color="red">command line</font></p>
<pre><strong>shell$</strong> mpirun -np 16 --<font color="red">map-by dist</font>:mlx4_0,span --bind-to hwthread \

    --display-map --report-bindings ...</pre>
<p>&nbsp;</p>
<p>This results in the same <font color="red">mapping</font> as in the above example, however <font color="red">MPI</font> processes are now bound to a single hyperthread (instead of floating between the two on each <font color="red">core</font> &#8212; prettyprint snipped/reformatted):</p>
<pre>======================== JOB MAP ========================

<font color="red">Data</font> for <font color="red">node</font>: sputnik1 Num slots: 32 Max slots: 0 Num procs: 8

Process <font color="red">OMPI</font> <font color="red">jobid</font>: [62744,1] <font color="red">App</font>: 0 Process rank: 0

Process <font color="red">OMPI</font> <font color="red">jobid</font>: [62744,1] <font color="red">App</font>: 0 Process rank: 1

...

Process <font color="red">OMPI</font> <font color="red">jobid</font>: [62744,1] <font color="red">App</font>: 0 Process rank: 7



<font color="red">Data</font> for <font color="red">node</font>: sputnik2 Num slots: 32 Max slots: 0 Num procs: 8

Process <font color="red">OMPI</font> <font color="red">jobid</font>: [62744,1] <font color="red">App</font>: 0 Process rank: 8

Process <font color="red">OMPI</font> <font color="red">jobid</font>: [62744,1] <font color="red">App</font>: 0 Process rank: 9

...

Process <font color="red">OMPI</font> <font color="red">jobid</font>: [62744,1] <font color="red">App</font>: 0 Process rank: 15

=============================================================

[sputnik1.vbench.com:09970] <font color="red">MCW rank</font> 0 bound to <font color="red">socket</font> 0[<font color="red">core</font> 0[<font color="red">hwt</font> 0]]: \

    [B./../../../../../../..][../../../../../../../..]

[sputnik1.vbench.com:09970] <font color="red">MCW rank</font> 1 bound to <font color="red">socket</font> 0[<font color="red">core</font> 1[<font color="red">hwt</font> 0]]: \

    [../B./../../../../../..][../../../../../../../..]

...

[sputnik1.vbench.com:09970] <font color="red">MCW rank</font> 7 bound to <font color="red">socket</font> 0[<font color="red">core</font> 7[<font color="red">hwt</font> 0]]: \

    [../../../../../../../B.][../../../../../../../..]



[sputnik2.vbench.com:09241] <font color="red">MCW rank</font> 8 bound to <font color="red">socket</font> 0[<font color="red">core</font> 0[<font color="red">hwt</font> 0]]: \

    [B./../../../../../../..][../../../../../../../..]

[sputnik2.vbench.com:09241] <font color="red">MCW rank</font> 9 bound to <font color="red">socket</font> 0[<font color="red">core</font> 1[<font color="red">hwt</font> 0]]: \

    [../B./../../../../../..][../../../../../../../..]

...

[sputnik2.vbench.com:09241] <font color="red">MCW rank</font> 15 bound to <font color="red">socket</font> 0[<font color="red">core</font> 7[<font color="red">hwt</font> 0]]: \

    [../../../../../../../B.][../../../../../../../..]</pre>
<p>&nbsp;</p>
<p>Additionally, on systems endowed with Open Fabrics <font color="red">devices</font> (e.g. Mellanox HCAs), you may specify &#8220;auto&#8221; in lieu of an explicit <font color="red">device</font> name and the <font color="red">mindist mapper</font> will attempt to find and map processes nearest an OFA <font color="red">device</font> for you automagically: </p>
<div class="codecolorer-container text default" style="overflow:auto;white-space:nowrap;width:435px;"><div class="text codecolorer">--<font color="red">map-by dist</font>:auto</div></div>
<p>.</p>
<div id="attachment_133694" style="max-width: 560px" class="wp-caption aligncenter"><a href="https://alln-extcloud-storage.cisco.com/ciscoblogs/fig3_apollo.png"><img class="size-large wp-image-133694" alt="Figure 3: <font color="red">hwloc</font> depiction of Apollo." src="https://alln-extcloud-storage.cisco.com/ciscoblogs/fig3_apollo-550x557.png" width="550" height="557" /></a><p class="wp-caption-text">Figure 3: hwloc depiction of Apollo.</p></div>
<p>If no <font color="red">device</font>, or more than one OFA <font color="red">device</font> is found, an error message will prompt the user to choose a specific HCA. Figure 3 shows the system topology of our &#8220;Apollo&#8221; system which has two Mellanox HCAs attached to the first <font color="red">socket</font>, namely, a Connect-IB card, mlx5_0, and a ConnectX-3 card, mlx4_0. On Apollo, the following commands are legal: &#8211;<font color="red">map-by dist</font>:mlx4_0 or &#8211;<font color="red">map-by dist</font>:mlx5_0, but &#8211;<font color="red">map-by dist</font>:auto is ambiguous because more than one OFA <font color="red">device</font> will be discovered. a In this case, a warning will be printed, and the job will continue by falling back onto a &#8220;byslot&#8221; <font color="red">mapping</font>. Similarly, if a <font color="red">device</font> is specified and it cannot be found, the same behavior will occur (print a warning, fallback to &#8220;byslot&#8221;). For example, if I were to launch an <font color="red">application</font> on Sputnik with the following command:</p>
<pre><strong>shell$</strong> mpirun -np 16 --<font color="red">map-by dist</font>:mlx4_0 --<font color="red">bind-to core</font> \

    --display-map --report-bindings ...</pre>
<p>&nbsp;</p>
<p>I would see the following warning because Sputnik does not have an mlx4_0 <font color="red">device</font>, however, the job still runs with the “byslot” mapping policy:</p>
<pre>--------------------------------------------------------------------------

No <font color="red">PCI</font> locality information could be found on at least one <font color="red">node</font>. 

Please, upgrade BIOS to expose <font color="red">NUMA</font> info.



<font color="red">Node</font>: sputnik1



Open <font color="red">MPI</font> will map the <font color="red">application</font> by default (BYSLOT).

--------------------------------------------------------------------------</pre>
<p>&nbsp;</p>
<p>As a simple, yet powerful <font color="red">application</font> of the <font color="red">mindist mapper</font>, we consider a hierarchical collective algorithm. Without getting into details, most implementations of such algorithms have a &#8220;fan-in&#8221; phase where <font color="red">data</font> converges on a <font color="red">node</font> leader. Subsequent to the fan-in, the leader exchanges <font color="red">data</font> with all other <font color="red">node</font> leader. In Mellanox&#8217;s collective implementations, we usually just select the smallest <font color="red">MPI</font> rank on each <font color="red">node</font> to serve as the leader. Coupling this with the <font color="red">mindist mapper</font> ensures that <font color="red">node</font> leaders will always be nearest the HCA whenever</p>
<div class="codecolorer-container text default" style="overflow:auto;white-space:nowrap;width:435px;"><div class="text codecolorer">--<font color="red">map-by dist</font></div></div>
<p>is passed.</p>
<p>In conclusion, the <font color="red">mindist mapper</font> is a simple and effective way to map <font color="red">MPI</font> processes near a desired I/O <font color="red">device</font>. These examples have been tailored to HCAs, but they could just as easily have been <font color="red">Ethernet</font> interfaces or storage <font color="red">devices</font>. How effective this <font color="red">mapping</font> is in terms of performance depends entirely on the <font color="red">application</font> and its communication and/or I/O pattern. Ultimately, the onus still falls on the developer to make informed decisions about process placement. However, the <font color="red">mindist mapper</font> provides one more tool for the <font color="red">HPC</font> practitioner&#8217;s toolbox to help reason with all of this <font color="red">complexity</font>. So, make a new plan, Stan: Download the latest Open <font color="red">MPI</font> 1.7.3 or beyond and try the <font color="red">mindist mapper</font> today!</p>
Tags:<br /><ul class = "tagged"><li><a class = "post_tags" href="https://blogs.cisco.com/?tag=hpc">HPC</a></li><li><a class = "post_tags" href="https://blogs.cisco.com/?tag=numa">NUMA</a></li><li><a class = "post_tags" href="https://blogs.cisco.com/?tag=nuna">NUNA</a></li><li><a class = "post_tags" href="https://blogs.cisco.com/?tag=process-affinity">process affinity</a></li></ul>		</div>
			<div id = "comments">
				<div id = "respond">
				<p class = "cisco_respond">In an effort to keep conversations fresh, Cisco Blogs closes comments after 60 days. Please visit the <a href ="https://blogs.cisco.com">Cisco Blogs hub page</a> for the latest content.</p>
		</div>

			</div>
		</article>

	</div>
	<div id = "main_right">
		<ul id = "sidebar">

  <li id="subscribe" class="widget">
    <h3>Subscribe to High Performance Computing Networking:</h3>
    <div id="subscribe_box">
      <form id ="subscribe_form" action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open('https://feedburner.google.com/fb/a/mailverify?uri=CiscoBlogHighPerformanceComputingNetworking', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true">
        <input type="text" class="subscribe" name="email" value="Enter email address" onFocus="if(this.value == 'Enter email address') {this.value = '';}" onBlur="if (this.value == '') {this.value = 'Enter email address';}"></input>
        <input type="hidden" value="CiscoBlogHighPerformanceComputingNetworking" name="uri" ></input>
        <input type="hidden" name="loc" value="en_US"></input>
        <input type="submit" class="subscribe_button" value="Subscribe" ></input>
        <div class="clear"></div>
      </form>
    </div>
    <div class="clear"></div>

</li>

<li id="social_widget" class="widget">
  <h3>Connect with High Performance Computing Networking</h3>
  <ul>
        <li><a target='_blank' href="https://www.facebook.com/Cisco"><img src="https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/follow_fb.png" alt="Facebook"></a></li>
    <li><a target='_blank' href="https://twitter.com/Cisco"><img src="https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/follow_tw.png" alt="Twitter"></a></li>
    <li><a target='_blank' href="http://www.linkedin.com/company/cisco"><img src="https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/follow_li.png" alt="Linkedin"></a></li>
    <li><a target='_blank' href="https://plus.google.com/106092229730683979920"><img src="https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/follow_gp.png" alt="Google+"></a></li>
    <li><a target='_blank' href="https://www.slideshare.net/ciscosystems"><img src="https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/follow_ss.png" alt="Slideshare"></a></li>
    <li><a target='_blank' href="http://youtube.com/Cisco"><img src="https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/follow_yt.png" alt="YouTube"></a></li>
    <li><a target='_blank' href="https://www.instagram.com/cisco/?hl=en"><img src="https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/follow_ig.png" alt="Instagram"></a></li>
    <li><a href="https://feeds.feedburner.com/CiscoBlogHighPerformanceComputingNetworking"><img src="https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/rss.png" width = "24" height = "24" alt = "Rss"></a></li>
      </ul>
</li>
	<li>
		<div id = "nitroLoggedOut" class="widget">
			<div class = "consoleTitle">
				Cisco Social Rewards
			</div>
			<div class = "consoleTextNoLog">
				Get credit for all your Cisco site participation with Social Rewards. <a href = "https://blogs.cisco.com/rewards-about">Learn More</a>			</div>
						<a href = "https://socialrewards-prod.cloudapps.cisco.com/" class = "joinNow">Join Today</a>
			<div class = "consoleTextNoLog">
				Already a member?  <a href = "https://socialrewards-prod.cloudapps.cisco.com/" class = "already">Log In</a>
			</div>
			</div>
</li> 	<script>


	nitro.callAPI("method=site.getActionFeed&apiKey=6912c6c82ccc4863a0311dc8b586b8fb&showLevelChanges=true&preferences=userFullName|profileUrl|userPhotoUrl", "newsfeed");
	</script>
	<li>
		 <div id ="newsfeedWidget">
			<div class = "newsfeed_header">
				Latest Rewards
				<a href = "https://blogs.cisco.com/rewards-about" class = "newsIcon"><img src = "/wp-content/plugins/bunchball/images/infoIcon.png"></a>
			</div>
			<div id = "newsInnerContent">
				<ul id = "newsfeed">
				</ul>
			</div>
		</div>
	</li>
    <li id="blogroll">
            <ul id="blogroll_links">
          <li class="roll_heading">What We're Reading</li>

            <li><a href="http://www.twit.tv/FLOSS" target="_blank">FLOSS Weekly</a></li>
                      <li><a href="http://www.hpcwire.com/" target="_blank">HPCwire</a></li>
                      <li><a href="http://insidehpc.com/" target="_blank">insideHPC</a></li>
                      <li><a href="http://www.rce-cast.com/" target="_blank">RCE-cast</a></li>
                      <li><a href="http://perilsofparallel.blogspot.com/" target="_blank">The Perils of Parallel</a></li>
                  </ul>
          </li>
  </ul>	</div>
	<div class = "clear"></div>
</div>
</div>
</div>
   

<div class="sb-slidebar sb-left sb-width-custom sb-momentum-scrolling " data-sb-width="50%">
    <nav>
  <a class = "hamburger_login" href = "https://blogs.cisco.com:9031/sp/startSSO.ping?PartnerIdpId=cloudsso.cisco.com">Log In to Cisco.com</a>      <ul>
                  <li><a href='https://blogs.cisco.com'><span>All Blogs</span></a></li>
                  <li><a href='#'><span>Technologies</span></a>
                  <ul>
            <div class = "bordertop"></div>
            <li><a href="https://blogs.cisco.com/analytics-automation">Analytics &amp; Automation</a></li>
            <li><a href="https://blogs.cisco.com/cloud">Cloud</a></li>
            <li><a href='https://blogs.cisco.com/collaboration'>Collaboration</a></li>
            <li><a href='https://blogs.cisco.com/datacenter'>Data Center</a></li>
            <li><a href='https://blogs.cisco.com/digital'>Digital Transformation</a></li>
            <li><a href='https://blogs.cisco.com/enterprise'>Enterprise Networks</a></li>
            <li><a href='https://blogs.cisco.com/innovation'>Innovation</a></li>
            <li><a href='https://blogs.cisco.com/wireless'>Mobility</a></li>
            <li><a href='https://blogs.cisco.com/security'>Security</a></li>
            <li class = "sub"><a href="https://blogs.cisco.com/talos" class="nav_menu" title="">Threat Research</a></li>
            <li><a href='https://blogs.cisco.com/smallbusiness'>Small Business</a></li>
            <li><a href='https://blogs.cisco.com/services'>Services</a></li>
            <li><a href='https://blogs.cisco.com/sp'>SP360:Service Provider</a></li>
          </ul>
        </li>
                  <li><a href='#'><span>Industries</span></a>
                      <ul>
            <div class = "bordertop"></div>
            <li><a href='https://blogs.cisco.com/education'>Education</a></li>
            <li><a href='https://blogs.cisco.com/energy'>Energy</a></li>
            <li><a href='https://blogs.cisco.com/financialservices'>Financial Services</a></li>
            <li><a href='https://blogs.cisco.com/government'>Government</a></li>
            <li><a href='https://blogs.cisco.com/healthcare'>Healthcare</a></li>
            <li><a href='https://blogs.cisco.com/manufacturing'>Manufacturing</a></li>
            <li><a href='https://blogs.cisco.com/retail'>Retail &amp; Hospitality</a></li>
          </ul>
        </li>
                  <li><a href='#'><span>Partners</span></a> 
          <ul>
            <div class = "bordertop"></div>
            <li><a href='https://blogs.cisco.com/partner'>Partner</a></li>
          </ul>
        </li>
        <li><a href='#'><span>For the Tech Expert</span></a>           <ul>
            <div class = "bordertop"></div>
            <li><a href='https://blogs.cisco.com/getyourbuildon'>Architects &amp; Distinguished Engineers</a></li>
            <li><a href='https://blogs.cisco.com/developer'>Developer</a></li>
            <li><a href='https://blogs.cisco.com/performance'>High Performance Computing</a></li>
            <li><a href='https://blogs.cisco.com/ciscoit'>Inside Cisco IT</a></li>
            <li><a href='https://blogs.cisco.com/cin'>TechWiseTV</a></li>
          </ul>
        </li>
         <li><a href='#'><span>Get to Know Cisco</span></a>           <ul>
            <div class = "bordertop"></div>
            <li><a href='https://blogs.cisco.com/csr'>Corporate Social Responsibility</a></li>
            <li><a href='https://blogs.cisco.com/cle'>Connected Life Exchange</a></li>
            <li><a href='https://blogs.cisco.com/customerstories'>Customer Stories</a></li>
            <li><a href='https://blogs.cisco.com/socialmedia'>Digital and Social Media</a></li>
            <li><a href='https://blogs.cisco.com/gov'>High Tech Policy</a></li>
            <li><a href='https://blogs.cisco.com/diversity'>Inclusion and Diversity</a></li>
            <li><a href='https://blogs.cisco.com/lifeatcisco'>Life at Cisco</a></li>
            <li><a href='https://blogs.cisco.com/perspectives'>Perspectives</a></li>
            <li><a href='https://blogs.cisco.com/news'>Executive Platform: News &amp; Insights</a></li>
          </ul>
        </li>
        <li class = "countries"><a href='#'><span>Countries and Regions</span></a>
          <ul>
            <div class = "col_1">
  <li><a href="https://apjc.thecisconetwork.com/">Asia Pacific</a>
  <li><a href="https://gblogs.cisco.com/at/">Austria</a>
  <li><span class = "sub_main">Belgium</span></li>
    <li class = "sub"><a href="https://gblogs.cisco.com/be">Dutch</a></li>
    <li class = "sub"><a href="https://gblogs.cisco.com/be-fr">French</a></li>
  <li><a href="https://gblogs.cisco.com/br/">Brazil</a>
  <li><span class = "sub_main">Canada</span></li>
    <li class = "sub"><a href="https://canadablog.cisco.com/">English</a></li>
    <li class = "sub"><a href="https://ciscocanadafr.wordpress.com/">French</a></li>

  </div>
    <div class = "col_2">
    <li><a href="https://gblogs.cisco.com/fin/">Finland</a>
    <li><a href="https://gblogs.cisco.com/fr/">France</a>

  <li><a href="https://gblogs.cisco.com/de">Germany</a></li>
  <li><a href="https://gblogs.cisco.com/gr/">Greece</a>
  <li><a href="https://gblogs.cisco.com/in">India</a></li>
  <li><a href="https://gblogs.cisco.com/it/">Italy</a></li>
  <li><a href="https://gblogs.cisco.com/jp/">Japan</a></li>
  <li><a href="https://ciscokrblog.com/">Korea</a></li>

  </div>
  <div class = "col_3">
  <li><span class = "sub_main">Latin America</span></li>
      <li class = "sub"><a href="https://gblogs.cisco.com/la/">Latin America (Esp)</a></li>
      <li class = "sub"><a href="https://gblogs.cisco.com/cansac/">Cansac</a></li>
  <li><a href="https://gblogs.cisco.com/nl/">Netherlands</a></li>
  <li><a href="https://gblogs.cisco.com/no">Norway</a></li>
  <li><a href="https://gblogs.cisco.com/pl">Poland</a></li>
  <li><a href="https://gblogs.cisco.com/pt">Portugal</a></li>
  <li><a href="https://gblogs.cisco.com/ro">Romania</a></li>
  </div>

  <div class = "col_4">
  <li><a href="https://gblogs.cisco.com/ru">Russia</a></li>
  <li><a href="https://gblogs.cisco.com/es">Spain</a></li>
  <li><span class = "sub_main">Switzerland</span></li>
      <li class = "sub"><a href="https://gblogs.cisco.com/ch-tech/">English</a></li>
      <li class = "sub"><a href="https://gblogs.cisco.com/ch-fr/">French</a></li>
      <li class = "sub"><a href="https://gblogs.cisco.com/ch-de/">German</a></li>
  <li><a href="https://gblogs.cisco.com/tr/">Turkey</a></li>
  <li><a href="https://gblogs.cisco.com/uki/">UK &amp; Ireland</a></li>
</div>
<div class = "clear"></div>
</ul>
</li>
      </ul>
</nav>
</div>
<footer class = "sb-slide">
	<section id = "footer_content">
				<ul id = "footer_social">
			<li class = "footer_social_title">Connect</li>

			<li><a target='_blank' href='https://www.facebook.com/Cisco'><img src = "https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/footer_fb.png" height = "25" width = "25"></a></li>
			<li><a target='_blank' href='https://twitter.com/Cisco'><img src = "https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/footer_tw.png"></a></li>
			<li><a target='_blank' href='http://www.linkedin.com/company/cisco'><img src = "https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/footer_li.png"></a></li>
			<li><a target='_blank' href='https://plus.google.com/106092229730683979920'><img src = "https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/footer_gp.png"></a></li>
			<div class = "clear"></div>

		</ul>


		<section id="footer_new">
			<ul>
				<li><a href="https://www.cisco.com/web/siteassets/contacts/index.html">Contacts</a>  |  </li>
				<li><a href="https://secure.opinionlab.com/ccc01/o.asp?id=jBjOhqOJ">Feedback</a>  |  </li>
				<li><a href="https://www.cisco.com/web/help/index.html">Help</a>  |  </li>
				<li><a href="https://www.cisco.com/web/siteassets/sitemap/index.html">Site Map</a>  |  </li>
				<li><a href="https://www.cisco.com/web/siteassets/legal/terms_condition.html">Terms &amp; Conditions</a>  |  </li>
				<li><a href="https://www.cisco.com/web/siteassets/legal/privacy.html">Privacy Statement</a>  |  </li>
				<li><a href="https://www.cisco.com/web/siteassets/legal/privacy.html#cookies">Cookie Policy</a>  |  </li>
    	 		<li><a href="https://www.cisco.com/web/siteassets/legal/trademark.html">Trademarks</a> <br /> </li>
    	 	</ul>
		</section>
		<br class="clear" />
    	<section id ="disclaimer">
    		<b>Legal Disclaimer</b>
			<p>Some of the individuals posting to this site, including the moderators, work for Cisco Systems. Opinions expressed here and in any corresponding comments are the personal opinions of the original authors, not of Cisco. The content is provided for informational purposes only and is not meant to be an endorsement or representation by Cisco or any other party. This site is available to the public. No information you consider confidential should be posted to this site. By posting you agree to be solely responsible for the content of all information you contribute, link to, or otherwise upload to the Website and release Cisco from any liability related to your use of the Website. You also grant to Cisco a worldwide, perpetual, irrevocable, royalty-free and fully-paid, transferable (including rights to sublicense) right to exercise all copyright, publicity, and moral rights with respect to any original content you provide. The comments are moderated. Comments will appear as soon as they are approved by the moderator.</p>
    	</section>
	</section>
	<script>
var ajaxurl = "https://blogs.cisco.com/wp-admin/admin-ajax.php";
jQuery(document).ready(function($) {

	$('a.commentLikeButton').click(function(event){
		var elemId = event.target.id;
		var commentId = elemId.replace('clickLike','');

		event.preventDefault();

		var nitroID= $(this).attr("data-nitro");



		var str = $(this).text();
		if (str =='1 like') {
			var total = str.replace('like','');
		}
		else {
			var total = str.replace('likes','');
		}
		if ($(this).hasClass( "commentlike")) {
			var theTotal = parseInt(total);
   			theTotal1 = Number(theTotal) + 1;
   			if (theTotal1 === 1){
   				$(this).text(theTotal1+" like"); 
   			}
   			else {
    			$(this).text(theTotal1+" likes");
    		}
    		var data = {
        		'action': 'addLike',
				'commentID': commentId,
				'total': theTotal1
			};


			$.post(ajaxurl, data, function(response) {
				if (typeof nitroID !== 'undefined') {
					commentLike(nitroID);
				}
				commentLiked();
			});

    	}
    	else{
    		$(this).removeAttr("href");
    		alert('You already liked this');
    		/*var theTotal = parseInt(total);
   			theTotal = Number(theTotal) - 1;
   			if (theTotal == 1){
   				$(this).text(theTotal+" like");
   			}
   			else {
    			$(this).text(theTotal+" likes");
    		}
    		var data = {
        		'action': 'removeLike',
				'commentID': commentId,
				'total': theTotal
			};
			$.post(ajaxurl, data, function(response) {
				alert('disliked');
			});*/
    	}

    	$(this).addClass('commentliked').removeClass('commentlike');
	});
});





	</script>
	
	<script>
		var ajaxurl = "https://blogs.cisco.com/wp-admin/admin-ajax.php";
		
		jQuery(document).ready(function($) {
			var postID = 133680;
			var orig_count = 0;
			$(".twitter a").click(function() {

				var theTotal = orig_count;
   				var count = Number(theTotal) + 1;
				var data = {
        			'action': 'addtweet',
					'postID': postID,
					'total': count
				};
				$.post(ajaxurl, data, function(response){});
			})
		});
	</script>

<script type='text/javascript' src='https://blogs.cisco.com/wp-includes/js/comment-reply.min.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-includes/js/wp-embed.min.js?ver=4.9.2'></script>
</footer>
<script>//nitro.refreshNML();</script>




</body>
</html>

  <div id="share_bar1">

    <span class = "share_title">Share</span>
    <div class="twitter sharrre">
      <div class = "box">
        <div class = "count twitcount"></div>
        <a class = "twitclick" href="https://twitter.com/intent/tweet?url=http://cs.co/9001gmrb&text=Process affinity: Hop on the bus, Gus!&via=Cisco" data-config-metrics-group='social_shares' data-config-metrics-title='twitter_shares' data-config-metrics-item='twitter_share'>tweet</a>
      </div>
    </div>

    <div class="facebook sharrre">
      <div class = "box">
        <div class = "count fbcount"></div>
        <a class = "fbclick share" href = "http://www.facebook.com/sharer/sharer.php?u=https://blogs.cisco.com/performance/process-affinity-hop-on-the-bus-gus&title=Process affinity: Hop on the bus, Gus!" data-config-metrics-group='social_shares' data-config-metrics-title='facebook_shares' data-config-metrics-item='facebook_share' onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"></a>
      </div>
    </div>


    <div class="linkedin sharrre">
      <div class = "box">
        <div class = "count licount"></div>
        <a class = "liclick share" href = "https://www.linkedin.com/cws/share?url=https://blogs.cisco.com/performance/process-affinity-hop-on-the-bus-gus" data-title=" " data-config-metrics-group='social_shares' data-config-metrics-title='linkedin_shares' data-config-metrics-item='linkedin_share' onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"></a>


      </div>
    </div>

    <div class="googleplus sharrre">
      <div class = "box">
        <div class = "count gpcount"></div>
        <a class = "gpclick share" href="https://plus.google.com/share?url=https://blogs.cisco.com/performance/process-affinity-hop-on-the-bus-gus" data-title=" " data-config-metrics-group='social_shares' data-config-metrics-title='google_shares' data-config-metrics-item='google_share' onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"></a>
      </div>
    </div>
        <div class = "share_mail"><a class="email emclick" href="mailto:?subject=Cisco Blog: Process affinity: Hop on the bus, Gus!&body=I saw this post on Cisco High Performance Computing Networking blog and thought you might like to read it.%0A%0AProcess affinity: Hop on the bus, Gus!%0A%0Ahttps://blogs.cisco.com/performance/process-affinity-hop-on-the-bus-gus%0A%0A****Disclaimer****%0A%0ACisco is not responsible for the content of this email, and its contents do not necessarily reflect Cisco’s views or opinions. Cisco has not verified the email address or name of the sender." data-config-metrics-group='social_shares' data-config-metrics-title='email_shares' data-config-metrics-item='email_share'></a></div>
    <div class = "clear"></div>
  </div>
  